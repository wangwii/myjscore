/*
 * The Javascript core object enhance
 * (c) 2013 Wang Wei - cnetwei@gmail.com
 * updated: 2013-02-01
 * license: http://www.opensource.org/licenses/mit-license.php
 */
Function.prototype.defer=function(seconds){seconds=seconds||0,seconds=seconds<0?0:seconds,setTimeout(this,seconds*1e3)};
Math.rand=function(min,max){min=min||0,max=max||Number.MAX_VALUE;var value=Math.random()*(max-min)+min;return Math.ceil(value)};
String.prototype.format=function(params){var formatted=this,fn=function(key,value){var regexp=new RegExp("\\{"+key+"\\}","gi");formatted=formatted.replace(regexp,value)};if(typeof params=="object")for(var x in params)fn(x,params[x]);else for(var i=0;i<arguments.length;i++)fn(i,arguments[i]);return formatted};
